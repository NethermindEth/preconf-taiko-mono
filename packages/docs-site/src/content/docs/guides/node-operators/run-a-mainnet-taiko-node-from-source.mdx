---
title: Run a Mainnet Taiko Node From Source
description: This guide will help you start up a Taiko node.
---

import { Aside, Card, Steps, Tabs, TabItem } from "@astrojs/starlight/components";

This tutorial explains how to run an Taiko node for Mainnet from source code.

## Prerequisites

This guide presumes you have built the required components already:
- `taiko-client`
- An execution engine (either `taiko-geth` or `Nethermind`)

See [build a node from source](/guides/node-operators/build-a-taiko-node-from-source) for build instructions.

## Hardware Requirements

These are the recommended specs of a [mainnet Geth node](https://geth.ethereum.org/docs/getting-started/hardware-requirements); the actual requirements may be lower.

*       16GB RAM
*       2TB SSD
*       Quad-core CPU

Node operators should plan for future storage needs as the requirements will grow continuously.

## Communication between the execution engine and taiko-client

The execution engine and `taiko-client` communicate over the standard Ethereum engine API authrpc. This communication is secured using a shared secret.

1. Generate a JWT secret:
    ```bash
    openssl rand -hex 32 > jwt.hex
    ```

## Start the execution engine

It's generally better to start the execution engine before you start `taiko-client` as you will encounter less error messages.

The execution engine can be started without `taiko-client` and will wait until `taiko-client` begins communicating.

<Tabs>
<TabItem label="taiko-geth">

1. Navigate to your `taiko-geth` directory

    Find the directory where you built the `taiko-geth` binary.

2. Copy the JWT secret you generated into the `taiko-geth` directory.

    ```bash
    cp /path/to/jwt.hex ./
    ```

3. Start taiko-geth

    Use the following command to start `taiko-geth` in a default configuration.

    ```bash
    ./build/bin/geth \
        --networkid 167008 \
        --datadir ./data/taiko-geth \
        --http \
        --http.addr 0.0.0.0 \
        --http.port 8545 \
        --http.api eth,net,web3,debug \
        --http.corsdomain "*" \
        --ws \
        --ws.addr 0.0.0.0 \
        --ws.port 8546 \
        --ws.api eth,net,web3,debug \
        --ws.origins "*" \
        --syncmode full \
        --authrpc.addr 0.0.0.0 \
        --authrpc.port 8551 \
        --authrpc.vhosts "*" \
        --authrpc.jwtsecret jwt.hex \
        --gcmode archive \
        --metrics \
        --metrics.addr 0.0.0.0 \
        --metrics.port 6060 \
        --port 30303 \
        --discovery.port 30303 \
        --maxpeers 100 \
        --verbosity 3
    ```

</TabItem>
<TabItem label="Nethermind">

1. Navigate to your Nethermind directory

    Find the directory where you installed Nethermind. For installation options, please refer to the [official Nethermind installation guide](https://docs.nethermind.io/get-started/installing-nethermind).

2. Copy the JWT secret

    ```bash
    cp /path/to/jwt.hex ./
    ```

3. Start Nethermind

    <Aside>
    For detailed configuration options and explanations, please refer to the [official Nethermind configuration documentation](https://docs.nethermind.io/fundamentals/configuration).
    </Aside>

    Run Nethermind with the Taiko mainnet configuration:
    ```bash
    nethermind --config taiko-mainnet
    ```

    This configuration includes all the necessary settings optimized for running a Taiko node.

</TabItem>
</Tabs>

## Start taiko-client

This guide assumes you are running both the execution engine and `taiko-client` on the same machine.

If you aren't, you can configure the ports and addresses so that the services can access each other.

<Steps>
1. Navigate to your `taiko-client` directory

    Find the directory where you built the `taiko-client` binary.

2. Copy the JWT secret you generated into the `taiko-client` directory.

    ```bash
    cp /path/to/jwt.hex ./
    ```

    This should be the *same* JWT secret you used in the previous step for the execution engine.

3. Set environment variables

    The following URLs should be a Ethereum node.

    You will need either an RPC provider, or run a full Ethereum node yourself.

    ```bash
    export L1_WS=...  # the WS address for the node to sync from.
    export L1_BEACON_URL=... # URL address for the L1 Beacon-node HTTP endpoint to use.
    ```

4. Start taiko-client

    Use the following command to start `taiko-client` in a default configuration.

    You can find all other configurable flags by running `./bin/taiko-client driver`.

    This command assumes you've run the execution engine command as is, if you've changed ports please change them accordingly.

    ```bash
        ./bin/taiko-client driver \
            --l1.ws ${L1_WS} \
            --l1.beacon ${L1_BEACON_URL} \
            --l2.ws ws://localhost:8546 \
            --taikoL1 0x06a9Ab27c7e2255df1815E6CC0168d7755Feb19a \
            --taikoL2 0x1670000000000000000000000000000000010001 \
            --jwt-secret ./jwt.hex \
            --l2.auth http://localhost:8551/ \
            --verbosity 3 \
            --p2p.sync \
            --p2p.checkPointSyncUrl https://rpc.mainnet.taiko.xyz
    ```

    <Aside>
    If you've participated in our old testnets, the L1 Node is no longer required to be an archive node!
    </Aside>
</Steps>

## Verify your node is syncing

Once you've started the execution engine and `taiko-client` properly you should see them communicate with each other and start syncing.

You can verify your node is syncing by checking the logs, or by querying the latest L2 block from your execution engine's RPC endpoint:

```bash
curl http://localhost:8545 \
    -X POST \
    -H "Content-Type: application/json" \
    --data '{"method":"eth_blockNumber","params":[],"id":1,"jsonrpc":"2.0"}'
```

## Next Steps

<Card title="Troubleshooting" icon="error">
        If you run into any problems, please visit the [troubleshooting page](/guides/node-operators/node-troubleshooting) for help.
</Card>
